<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>A.J. Lawson Player Analysis</title>
  <style>
    /* 
      ==========================
         CSS Variables (Theme)
      ==========================
    */
    :root {
      --page-bg-color: #1f2937;        /* Dark background color */
      --text-color: #ffffff;           /* Main text color (light on dark) */
      --section-bg-color: #f1f5f9;     /* Card background (light) */
      --section-text-color: #000000;   /* Card text color (dark on light) */
      --highlight-color: #f63b3b;      /* Accent color (blue-ish) */
      --border-radius: 8px;
      --max-content-width: 1320px;
      --base-spacing: 20px;
    }

    /* Global Reset */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    /* Body & Container */
    body {
      font-family: Arial, sans-serif;
      background-color: var(--page-bg-color);
      color: var(--text-color);
    }
    .container {
      max-width: 1320px;
      margin: 0 auto;
      padding-left: clamp(20px, 5vw, 80px);
      padding-right: clamp(20px, 5vw, 80px);
      padding-top: 40px; /* add vertical space at the top */
    }


    /* Page Title */
    .page-title {
      text-align: center;
      margin-bottom: calc(var(--base-spacing) * 1.5);
      font-size: 2rem;
      color: var(--highlight-color);
    }

    .centered-text {
      text-align: center;
    }

     /* Center only the <h2> heading in the bio card */
      #player-bio h2 {
        text-align: center;
    }

    .left-column {
      display: flex;
      flex-direction: column;
      gap: var(--base-spacing);
      flex: 0 0 750px;
      margin-left: -150px;
    }

    .middle-column {
    /* stack your note-boxes and add a gap between them */
    display: flex;
    flex-direction: column;
    width: 100%;
    margin-left: 130px;
    gap: var(--base-spacing);
    }


    /*.middle-column {
      /* keep its grid/flex placement */
      /* then nudge it over: */
      /*.width: 100%;
      margin-left: 130px;
    } 


    /* new wrapper that stacks radar + chart-container vertically */
    .chart-column{
      display: flex;
      flex-direction: column;
      align-items: center;   /* center each child horizontally */
      gap: 20px;             /* space between radar and main chart */
      flex: 0 0 auto;        /* keep natural size inside .player-layout */

      /* ← this is the magic line: */
      margin-left: auto;

      /* add these: */
      position: relative;
      left: 150px;   /* push it 20px further right */
    }

    .g-league-wrapper {
      display: flex;
      justify-content: center;     /* centers the image horizontally */
    }

    .g-league-expanded {
      width: 750px;              /* allow to fill .left-column completely */
      border-radius: 8px;
    }

    .bio-chart {
      display: block;                   /* take full width of the bio card */
      width: 100%;                      /* cap at the 300px bio-column width */
      height: auto;
      margin-top: var(--base-spacing);  /* breathing room above */
      border-radius: var(--border-radius);
      cursor: pointer;
    }

    /* size the radar plot to match the other charts */
    .radar-image{
      max-width: 400px;      /* same width as .main-chart */
      width: 100%;
      height: auto;
      border-radius: 8px;
      cursor: pointer;  /* single-click => open modal, double-click => swap */
    }


    .inline-stats {
    /* Use a two-column grid: first column fixed/min-width, second column flexible */
      display: grid;
      grid-template-columns: 145px 1fr; /* Adjust 145px as needed for your longest label */
      column-gap: 20px;                /* spacing between columns */
      align-items: center;             /* vertically center the items in each row */
      margin-bottom: 10px;             /* spacing between rows */
    }

    /* Prevent the text from breaking onto a new line */
    .inline-stats p {
      margin: 0; 
      white-space: nowrap; 
    }

    .inline-charts {
      display: flex;        /* side-by-side layout */
      gap: 20px;            /* spacing between the two images */
      justify-content: center; /* center them horizontally, if desired */
      align-items: center;  /* vertically center them in the row */
    }

    .image-panel {
      display: flex;     /* horizontally line up the two images */
      gap: 20px;         /* space between them */
      align-items: center; /* vertically center if one is taller, etc. */
    }

    .chart-image {
      max-width: 400px; /* limit each image’s max width so they fit nicely side by side */
      width: 100%;      /* image scales responsively if smaller screens require it */
      height: auto;
      border-radius: 8px; /* optional: round corners */
      cursor: pointer;  /* single-click => open modal, double-click => swap */
    }

    .contract-line p,
      .contract-line {
      white-space: nowrap;
    }

    /* add or modify */
    .chart-container{
      position: relative;
      display: inline-block;
      width: 400px;          /* matches .main-chart max‑width */
      max-width: 100%;
      flex: 0 0 auto;        /* ← NEW: make it take its own column in the flex row */
    }


    /* Main chart displayed on the page */
    .main-chart {
      max-width: 400px;
      width: 100%;
      height: auto;
      border-radius: 8px;
      display: block;
      cursor: pointer;  /* single-click => open modal, double-click => swap */
    }

    /* Teaser thumbnail in bottom-right corner of main chart */
    .overlay-thumbnail {
      position: absolute;
      bottom: 10px;
      right: -80px;
      width: 80px;   
      border: 2px solid #fff;
      border-radius: 5px;
      opacity: 0.8;
    }

    /* Modal overlay for zoomed-in view */
    .modal {
      display: none;       /* hidden by default */
      position: fixed;
      z-index: 9999;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.7);
    }
    /* Modal content area */
    .modal-content {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      max-width: 80%;
      background: #fff;
      border-radius: 8px;
      padding: 10px;
    }
    .close-btn {
      float: right;
      font-size: 1.5rem;
      font-weight: bold;
      cursor: pointer;
      color: #888;
      margin-bottom: 10px;
    }
    .close-btn:hover {
      color: #333;
    }
    /* The enlarged image inside the modal */
    .modal-img {
      display: block;
      max-width: 100%;
      height: auto;
      margin: 0 auto;
      cursor: pointer; /* so user knows double-click can swap here too */
    }

    /*
      ======================
        Two-Column Layout
      ======================
    */
    .player-layout {
      display: flex;                 /* side‑by‑side */
      gap: 10px;      /* your existing gap */
      align-items: flex-start;       /* ← prevents child flex items from stretching */
    }

    #player-bio {
      max-width: 400px;
      width: 100%;
    }


    /* Left Column (Bio) */
    /*#player-bio {
      flex: 0 0 300px; /* fixed column width (adjust as desired) */
      /*margin-left: -150px;
    }

    /* Right Column (Stats, Charts, Additional Info) */
    .right-column {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: var(--base-spacing);
    }

    /*
      On smaller screens, stack columns vertically
    */
    @media (max-width: 800px) {
      .player-layout {
        flex-direction: column;
      }
      #player-bio {
        flex: 1 1 auto;  /* let bio shrink/grow */
      }
    }

    /*
      ======================
        Card / Section
      ======================
      "section" class for each textbox/card
    */
    .section {
      background-color: var(--section-bg-color);
      color: var(--section-text-color);
      border-radius: var(--border-radius);
      padding: var(--base-spacing);
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
    }
    .section h2 {
      margin-bottom: 0.5em;
      color: var(--highlight-color);
    }
    .section p {
      margin-bottom: 0.75em;
      line-height: 1.4;
    }

    /* add breathing-room between bullet points */
    .section ul li {
      margin-bottom: 0.75em;
    }


    /* Stats boxes styling */
    .stats-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .stats-box {
      flex: 1;
      min-width: 120px;
      background: #e2e8f0;
      color: #111827;
      border-radius: 4px;
      padding: 10px;
      text-align: center;
    }
    .stats-box h3 {
      margin-bottom: 0.5em;
      font-size: 1rem;
      color: #374151;
    }

    /* Footer styling (optional) */
    .footer {
      text-align: center;
      margin-top: 40px;
      color: #9ca3af;
    }

    /* 
      =====================
        Player Image
      =====================
    */
    .player-image {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      margin-top: 1em; /* space above the image */
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Player Title
    <h1 class="page-title">A.J. Lawson Player Analysis</h1>
    -->

    <!-- 
      =======================================
        Main Two-Column Layout
      =======================================
    -->
    <div class="player-layout">
      <!-- ◀ LEFT COLUMN: Player Bio + G-League Stats (stacked vertically) ▶ -->
      <div class="left-column">
        <div class="section" id="player-bio">
          <h2>A.J. Lawson</h2>
          <img src="A.J._Lawson_Headshot.png" alt="A.J. Lawson Headshot" class="player-image" />
          <p class="centered-text"><strong>Toronto Raptors</strong></p>
    
          <div class="inline-stats">
            <p><strong>Position(s):</strong> SG</p>
            <p><strong>Age:</strong> 24</p>
          </div>
          <div class="inline-stats">
            <p><strong>Height:</strong> 6'6"</p>
            <p><strong>Wingspan:</strong> 6'6"</p>
          </div>
          <p><strong>Draft:</strong> 2021 (Undrafted)</p>
          <p class="contract-line"><strong>Contract Type:</strong> Standard (Non-Guaranteed)</p>
          <div class="inline-stats">
            <p><strong>Salary:</strong> $2,270,735</p>
            <p><strong>Exp:</strong> 2026-27 (UFA)</p>
          </div>
    
          <p><strong>Profile:</strong> A.J. Lawson is a Canadian guard with the Toronto Raptors of the National Basketball Association (NBA). 
            He is currently on a two year non-guaranteed contract with the Raptors 905 and played three seasons with the South Carolina Gamecocks. 
            He is a score first shooting guard who averaged 14.2 PPG on 34.9% 3P% in college.
          </p>
        </div>
    
      <div class="g-league-wrapper">
        <img
          src="aj_lawson_g_league_stats.png"
          alt="A.J. Lawson G-League Stats"
          class="g-league-expanded"
        />
      </div>
      </div>

      <div class="middle-column">
        <div class="section" id="notes-1">
          <h2>Offence</h2>
          <ul><li>Heavy three-point and paint shot diet</li><li>Right side above the arc three is his most efficient three-point zone</li><li>Lacks playmaking and midrange efficiency</li></ul>
        </div>
        <div class="section" id="notes-2">
          <h2>Defense</h2>
          <ul><li>Ranks well in DEF WS for both his NBA and G League stints</li><li>Rebounds well for his position</li><li>Profiles well as an on-ball defender (need more stats like PF and STLS)</li></ul>
        </div>
        <div class="section" id="notes-3">
          <h2>Overview</h2>
          <p>Lawson has shown to be most effective as a high usage scorer. 
          In the G League this year, he emerged as a reliable three-point threat who can get to the free-throw line consistently while also playing at a fast pace (84th percentile among guards). 
          The 6'6" guard rebounds the ball well for his size and performs well in the DEF WS category. These two attributes have translated over to the Raptors this season (80th percentile in REB% and 97th percentile in DEF WS) in a small sample size. 
          As a player capable of being a scoring option, improving shooting efficiency from the field and the free throw line (30th percentile in EFG%, 7th percentile in FT%) as well as playmaking (8th percentile in AST RATIO) will be important for Lawson as he faces NBA calibre defense.</p>
        </div>
      </div>


      <!-- Right column: Just the two chart images, side by side -->

      <!-- ▸ Right column : charts          -->
<div class="chart-column">      
  <div class="chart-container">
  <!-- radar plot on top -->
    <img src="aj_lawson_radar_plot_nba.png"
        alt="A.J. Lawson NBA Radar Plot"
        id="radarMainChart" 
        class="main-chart"
    />
    
    <img src="aj_lawson_g_league_radar_plot.png"
         alt="A.J. Lawson G-League Radar Teaser"
         id="radarThumbChart"
         class="overlay-thumbnail" />

  </div>

  <div class="chart-container">
    <img src="aj_lawson_nba_shot_density_chart.png"
         alt="Shot Density Map"
         id="mainChart"
         class="main-chart" />

    <img src="aj_lawson_g_league_shot_density_chart.png"
         alt="Density Map Teaser"
         id="thumbChart"
         class="overlay-thumbnail" />
  </div><!-- /.chart-container -->

  <!-- NEW: NBA/G-League Efficiency Pair -->
  <div class="chart-container">
    <img src="aj_lawson_nba_efficiency_chart.png"
         alt=""
         id="efficiencyMainChart"
         class="main-chart" />
    <img src="aj_lawson_g_league_efficiency_chart.png"
         alt=""
         id="efficiencyThumbChart"
         class="overlay-thumbnail" />
  </div>

  <!-- ▼ NEW: Player Impact Estimate chart ------------------- -->
  <img src="player_impact_estimate.png"
       alt="Player Impact Estimate"
       id="impactChart"          
       class="radar-image" />
</div>
</div><!-- /.player-layout -->

<!-- Modal (unchanged) -->
<div class="modal" id="chartModal">
  <div class="modal-content">
    <span class="close-btn" id="closeModalBtn">&times;</span>
    <img src="" alt="Zoomed Chart" class="modal-img" id="modalImg" />
  </div>
</div>
    
      
      <!--<div class="image-panel">
        <img 
          src="aj_lawson_shot_density_map.png"
          alt="Shot Density Map"
          class="chart-image"
        />
        <img 
          src="aj_lawson_efficiency_chart.png"
          alt="Shot Efficiency Chart"
          class="chart-image"
        />
      </div>
    </div> -->
      
      <!-- Right Column: Stats, Charts, Additional Info 
      <div class="right-column">
         Shooting Stats Section 
        <div class="section" id="shooting-stats">
          <h2>Shooting Stats</h2>
          <div class="stats-grid">
            <div class="stats-box">
              <h3>Shots on Goal</h3>
              <p>25</p>
            </div>
            <div class="stats-box">
              <h3>Goals</h3>
              <p>7</p>
            </div>
            <div class="stats-box">
              <h3>Accuracy</h3>
              <p>28%</p>
            </div>
          </div>
        </div> -->

        <!-- Performance Chart 
        <div class="section" id="performance-charts">
          <h2>Performance Chart</h2>
          <canvas id="statsChart" width="400" height="200"></canvas>
        </div> -->

    <!-- Footer -->
    <div class="footer">
      <small>© 2025 My Player Analysis App</small>
    </div>
  </div> <!-- .container -->

  <script>

    // 1) Paths & state
    const densityMapPath      = "aj_lawson_nba_shot_density_chart.png";
    const efficiencyChartPath = "aj_lawson_g_league_shot_density_chart.png";
    let currentMainPath  = densityMapPath;
    let currentThumbPath = efficiencyChartPath;

    const radarMapPath     = "aj_lawson_radar_plot_nba.png";
    const gLeagueRadarPath = "aj_lawson_g_league_radar_plot.png";
    let radarCurrentMain   = radarMapPath;
    let radarCurrentThumb  = gLeagueRadarPath;

    const nbaEffChartPath        = "aj_lawson_nba_efficiency_chart.png";
    const gLeagueEffChartPath    = "aj_lawson_g_league_efficiency_chart.png";
    let effCurrentMain    = nbaEffChartPath;
    let effCurrentThumb   = gLeagueEffChartPath;

    const impactPath = "player_impact_estimate.png";

   // const gLeagueStatsPath  = "aj_lawson_g_league_stats.png";

    // 2) Grab DOM
    const mainChart      = document.getElementById("mainChart");
    const thumbChart     = document.getElementById("thumbChart");
    const radarMainChart = document.getElementById("radarMainChart");
    const radarThumbChart= document.getElementById("radarThumbChart");
    const efficiencyMainChart  = document.getElementById("efficiencyMainChart");
    const efficiencyThumbChart = document.getElementById("efficiencyThumbChart");
    const impactChart    = document.getElementById("impactChart");
    // const gLeagueStatsChart = document.getElementById("gLeagueStatsChart");

    const modal       = document.getElementById("chartModal");
    const modalImg    = document.getElementById("modalImg");
    const closeModalBtn = document.getElementById("closeModalBtn");

    // 3) Initialize srcs
    mainChart.src       = currentMainPath;
    thumbChart.src      = currentThumbPath;
    radarMainChart.src  = radarCurrentMain;
    radarThumbChart.src = radarCurrentThumb;
    efficiencyMainChart.src  = effCurrentMain;
    efficiencyThumbChart.src = effCurrentThumb;

    // 4) Shared delay
    const clickDelay = 300;
    let clickTimer        = null;
    let radarClickTimer   = null;
    let effClickTimer     = null;

    // 5) Main Chart single/double-click
    mainChart.addEventListener("click", () => {
      if (clickTimer) {
        clearTimeout(clickTimer);
        clickTimer = null;
        // double-click → swap
        [currentMainPath, currentThumbPath] = [currentThumbPath, currentMainPath];
        mainChart.src  = currentMainPath;
        thumbChart.src = currentThumbPath;
      } else {
        clickTimer = setTimeout(() => {
          // single-click → open modal
          modal.style.display = "block";
          modalImg.src = currentMainPath;
          clickTimer = null;
        }, clickDelay);
      }
    });

    // 6) Radar Chart single/double-click
    radarMainChart.addEventListener("click", () => {
      if (radarClickTimer) {
        clearTimeout(radarClickTimer);
        radarClickTimer = null;
        // double-click → swap radar pair
        [radarCurrentMain, radarCurrentThumb] = [radarCurrentThumb, radarCurrentMain];
        radarMainChart.src  = radarCurrentMain;
        radarThumbChart.src = radarCurrentThumb;
      } else {
        radarClickTimer = setTimeout(() => {
          modal.style.display = "block";
          modalImg.src = radarCurrentMain;
          radarClickTimer = null;
        }, clickDelay);
      }
    });

    // 7) Efficiency chart single/double-click
    efficiencyMainChart.addEventListener("click", () => {
      if (effClickTimer) {
        clearTimeout(effClickTimer);
        effClickTimer = null;
        [effCurrentMain, effCurrentThumb] = [effCurrentThumb, effCurrentMain];
        efficiencyMainChart.src  = effCurrentMain;
        efficiencyThumbChart.src = effCurrentThumb;
      } else {
        effClickTimer = setTimeout(() => {
          modal.style.display = "block";
          modalImg.src        = effCurrentMain;
          effClickTimer = null;
        }, clickDelay);
      }
    });

    // 8) Impact chart + G League Stats single-click → zoom (no swap)
    if (impactChart) {
      impactChart.addEventListener("click", () => {
        modal.style.display = "block";
        modalImg.src = impactPath;
      });
    }

    // if (gLeagueStatsChart) {
    //  gLeagueStatsChart.addEventListener("click", () => {
    //    modal.style.display = "block";
    //    modalImg.src        = gLeagueStatsPath;
    //  });
    //}

    // 9) Unified double-click in modal → swap whichever pair is showing
    modalImg.addEventListener("dblclick", () => {
      const src = modalImg.src;
      if (src.endsWith(densityMapPath) || src.endsWith(efficiencyChartPath)) {
        [currentMainPath, currentThumbPath] = [currentThumbPath, currentMainPath];
        mainChart.src  = currentMainPath;
        thumbChart.src = currentThumbPath;
        modalImg.src   = currentMainPath;
      }
      else if (src.endsWith(radarMapPath) || src.endsWith(gLeagueRadarPath)) {
        [radarCurrentMain, radarCurrentThumb] = [radarCurrentThumb, radarCurrentMain];
        radarMainChart.src  = radarCurrentMain;
        radarThumbChart.src = radarCurrentThumb;
        modalImg.src        = radarCurrentMain;
      }
      else if (src.endsWith(nbaEffChartPath) || src.endsWith(gLeagueEffChartPath)) {
        [effCurrentMain, effCurrentThumb] = [effCurrentThumb, effCurrentMain];
        efficiencyMainChart.src  = effCurrentMain;
        efficiencyThumbChart.src = effCurrentThumb;
        modalImg.src             = effCurrentMain;
      }
    });

    // 10) Close modal
    closeModalBtn.addEventListener("click", () => {
      modal.style.display = "none";
    });
    window.addEventListener("click", e => {
      if (e.target === modal) modal.style.display = "none";
    });

  </script>
</body>
</html>
